// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.
import type { JsonValue } from '../../../../../bindings/serde_json/JsonValue';

/**
 * A position fix representing an aircraft's location and associated data
 * This is the unified domain entity for position updates and database storage
 */
export type Fix = {
	/**
	 * Unique identifier for this fix
	 */
	id: string;
	/**
	 * APRS packet header information
	 */
	source: string;
	aprsType: string;
	via: Array<string | null>;
	/**
	 * Timestamp when this fix was received/parsed
	 */
	timestamp: string;
	/**
	 * Aircraft position
	 */
	latitude: number;
	longitude: number;
	altitudeMslFeet: number | null;
	altitudeAglFeet: number | null;
	/**
	 * Flight information
	 */
	flightNumber: string | null;
	squawk: string | null;
	/**
	 * Performance data
	 */
	groundSpeedKnots: number | null;
	trackDegrees: number | null;
	climbFpm: number | null;
	turnRateRot: number | null;
	/**
	 * Protocol-specific metadata stored as JSONB
	 * For APRS: snr_db, bit_errors_corrected, freq_offset_khz, gnss_*_resolution
	 * For ADS-B: nic, nac_p, nac_v, sil, emergency_status, on_ground, etc.
	 */
	sourceMetadata: JsonValue | null;
	/**
	 * Associations
	 */
	flightId: string | null;
	aircraftId: string;
	/**
	 * Timestamp when we received/processed the packet
	 */
	receivedAt: string;
	/**
	 * Whether the aircraft is considered active (ground_speed >= 25 knots)
	 */
	active: boolean;
	/**
	 * Receiver that reported this fix (from via array)
	 */
	receiverId: string;
	/**
	 * Reference to the raw message that contains the raw packet data
	 */
	rawMessageId: string;
	/**
	 * Whether altitude_agl_feet has been looked up (true even if NULL due to no data)
	 */
	altitudeAglValid: boolean;
	/**
	 * Number of seconds elapsed since the previous fix within the same flight
	 * NULL for the first fix in a flight or for fixes without a flight_id
	 */
	timeGapSeconds: number | null;
};

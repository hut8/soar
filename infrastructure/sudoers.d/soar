# SOAR Deployment Sudoers Configuration
#
# This file grants the 'soar' user the necessary sudo privileges for automated deployment
# via CI/CD pipelines. All deployment operations are handled by a single deployment script
# to minimize the attack surface and simplify security auditing.
#
# Installation:
#   sudo cp infrastructure/sudoers.d/soar /etc/sudoers.d/soar
#   sudo chmod 440 /etc/sudoers.d/soar
#   sudo visudo -c  # Verify syntax
#
#   sudo cp infrastructure/soar-deploy /usr/local/bin/soar-deploy
#   sudo chmod 755 /usr/local/bin/soar-deploy
#   sudo chown root:root /usr/local/bin/soar-deploy
#
# Security: This grants minimal privileges - only the deployment script can be run with sudo

# Allow soar user to execute the deployment script
soar ALL=(root) NOPASSWD: /usr/local/bin/soar-deploy /tmp/soar/deploy/*
